name: WBC Ticket Monitor

on:
  workflow_dispatch:      # 讓你可以手動按按鈕測試
  schedule:
    - cron: '*/10 * * * *'  # 每 10 分鐘自動跑一次

jobs:
  check-tickets:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-node@v3
        with:
          node-version: '18'
      - run: npm install axios  # 安裝這支程式需要的工具
      - env:
          # 這裡要對應作者程式碼可能使用的變數名稱
          TELEGRAM_BOT_TOKEN: ${{ secrets.TELEGRAM_BOT_TOKEN }}
          TELEGRAM_CHAT_ID: ${{ secrets.TELEGRAM_CHAT_ID }}
          # 如果他原本是用 LINE，我們強迫他跑這支 JS
        run: node eplus-notify.js
